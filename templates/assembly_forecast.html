{% extends 'base.html' %}

{% block content %}
<h1>Assembly Forecast</h1>
<div class="section-card">
  <div id="assembly-inputs" class="field-column"></div>
  <button type="button" id="run-forecast">Run Forecast</button>
</div>

<div class="section-card" style="margin-top:16px;">
  <div class="preview-card" style="height:300px;">
    <canvas id="forecastChart"></canvas>
  </div>
  <div class="preview-card" style="height:300px; margin-top:16px;">
    <canvas id="falseCallChart"></canvas>
  </div>
  <div class="preview-card" style="height:300px; margin-top:16px;">
    <canvas id="ngRatioChart"></canvas>
  </div>
  <div id="missing-msg" style="display:none; margin-top:16px;"></div>
  <table id="forecast-table" class="data-table" style="margin-top:16px;">
    <thead>
      <tr>
        <th>Assembly</th>
        <th>Boards</th>
        <th>False Calls</th>
        <th>Avg FC/Board</th>
        <th>Pred FC</th>
        <th>Pred FC/Board</th>
        <th>Inspected</th>
        <th>Rejected</th>
        <th>NG Ratio %</th>
        <th>Yield %</th>
        <th>Pred Rej</th>
        <th>Pred NG/Board</th>
        <th>Pred Yield %</th>
        <th>Cust Yield %</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/assembly_forecast.js') }}"></script>
{% endblock %}
