{% extends 'base.html' %}

{% block content %}
<section class="page-intro">
  <div>
    <h1>Administration Console</h1>
    <p>Configure Spectra Operations Suite for your organization, manage access, and oversee system integrations.</p>
  </div>
  <div class="intro-meta">
    <span class="meta-label">Environment</span>
    <span class="meta-value">Production</span>
  </div>
</section>

<section class="admin-console" data-tabs>
  <aside class="tab-nav" role="tablist" aria-label="Administration Sections">
    <button class="tab-link is-active" type="button" role="tab" aria-selected="true" tabindex="0" data-tab-target="overview">Overview</button>
    <button class="tab-link" type="button" role="tab" aria-selected="false" tabindex="-1" data-tab-target="data">Data Connections</button>
    <button class="tab-link" type="button" role="tab" aria-selected="false" tabindex="-1" data-tab-target="users">User Accounts</button>
    <button class="tab-link" type="button" role="tab" aria-selected="false" tabindex="-1" data-tab-target="roles">Roles &amp; Permissions</button>
    <button class="tab-link" type="button" role="tab" aria-selected="false" tabindex="-1" data-tab-target="system">System Policies</button>
  </aside>

  <div class="tab-panels">
    <article class="tab-panel is-active" role="tabpanel" data-tab-panel="overview" aria-hidden="false">
      <h2>Operational Snapshot</h2>
      <div class="grid-two">
        <div class="summary-block">
          <h3>Platform Status</h3>
          <ul>
            <li><strong>Authentication</strong> &mdash; Enabled</li>
            <li><strong>Data Sync</strong> &mdash; Running (15 minutes ago)</li>
            <li><strong>Last Configuration Change</strong> &mdash; 3 days ago by ADMIN</li>
          </ul>
        </div>
        <div class="summary-block">
          <h3>Quick Actions</h3>
          <div class="action-grid">
            <button type="button" class="primary">Add Database Source</button>
            <button type="button" class="primary">Invite User</button>
            <button type="button" class="ghost">Download Audit Log</button>
            <button type="button" class="ghost">Open Runbook</button>
          </div>
        </div>
      </div>
      <div class="summary-block">
        <h3>Recent Alerts</h3>
        <p>No outstanding alerts. System performance is within service-level expectations.</p>
      </div>
    </article>

    <article class="tab-panel" role="tabpanel" data-tab-panel="data" aria-hidden="true">
      <h2>Data Connections</h2>
      <p>Link production databases and control how often data synchronizes with Spectra Operations Suite.</p>
      <form class="config-form" method="post" action="#">
        <div class="form-grid">
          <label>
            Data Source Name
            <input type="text" name="data_source_name" placeholder="e.g., AOI Production Cluster">
          </label>
          <label>
            Connection Type
            <select name="connection_type">
              <option value="postgres">PostgreSQL</option>
              <option value="mssql">SQL Server</option>
              <option value="mysql">MySQL</option>
              <option value="oracle">Oracle</option>
              <option value="api">REST API</option>
            </select>
          </label>
          <label>
            Host
            <input type="text" name="host" placeholder="db01.corp.local">
          </label>
          <label>
            Port
            <input type="number" name="port" value="5432">
          </label>
          <label>
            Database Name
            <input type="text" name="database_name" placeholder="operations_core">
          </label>
          <label>
            Sync Interval (minutes)
            <input type="number" name="sync_interval" value="15">
          </label>
        </div>
        <div class="form-grid">
          <label>
            Service Account
            <input type="text" name="service_account" placeholder="svc_moaa_ops">
          </label>
          <label>
            Encryption
            <select name="encryption">
              <option value="tls12">TLS 1.2</option>
              <option value="tls13">TLS 1.3</option>
              <option value="none">None</option>
            </select>
          </label>
          <label class="full-width">
            Connection Notes
            <textarea name="connection_notes" rows="3" placeholder="Document maintenance windows, failover steps, or escalation contacts."></textarea>
          </label>
        </div>
        <div class="form-actions">
          <button type="submit" class="primary">Save Connection</button>
          <button type="reset" class="ghost">Clear</button>
        </div>
      </form>
    </article>

    <article class="tab-panel" role="tabpanel" data-tab-panel="users" aria-hidden="true">
      <h2>User Accounts</h2>
      <p>Create and deactivate user accounts to control who can access Spectra Operations Suite.</p>
      <form class="config-form" method="post" action="#">
        <div class="form-grid">
          <label>
            Full Name
            <input type="text" name="user_full_name" placeholder="Jordan Rivera">
          </label>
          <label>
            Email Address
            <input type="email" name="user_email" placeholder="jordan.rivera@example.com">
          </label>
          <label>
            Role
            <select name="user_role">
              <option value="viewer">Viewer</option>
              <option value="analyst">Analyst</option>
              <option value="manager">Manager</option>
              <option value="admin">Administrator</option>
            </select>
          </label>
          <label>
            Temporary Password
            <input type="text" name="user_password" placeholder="Auto-generate">
          </label>
        </div>
        <div class="form-actions">
          <button type="submit" class="primary">Provision User</button>
          <button type="button" class="ghost">Bulk Import</button>
        </div>
      </form>

      <div class="summary-block">
        <h3>Active Sessions</h3>
        <table class="data-table">
          <thead>
            <tr>
              <th>User</th>
              <th>Role</th>
              <th>Last Activity</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ADMIN</td>
              <td>Administrator</td>
              <td>2 minutes ago</td>
              <td><span class="status status-online">Online</span></td>
            </tr>
            <tr>
              <td>k.williams</td>
              <td>Manager</td>
              <td>23 minutes ago</td>
              <td><span class="status">Idle</span></td>
            </tr>
            <tr>
              <td>a.li</td>
              <td>Analyst</td>
              <td>Yesterday</td>
              <td><span class="status status-offline">Offline</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </article>

    <article class="tab-panel" role="tabpanel" data-tab-panel="roles" aria-hidden="true">
      <h2>Roles &amp; Permissions</h2>
      <p>Design role-based access policies by module and action.</p>
      <div class="summary-block">
        <table class="data-table">
          <thead>
            <tr>
              <th>Capability</th>
              <th>Viewer</th>
              <th>Analyst</th>
              <th>Manager</th>
              <th>Administrator</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>View Dashboards</td>
              <td>Read</td>
              <td>Read</td>
              <td>Read</td>
              <td>Manage</td>
            </tr>
            <tr>
              <td>Modify Data Sources</td>
              <td>None</td>
              <td>Propose</td>
              <td>Approve</td>
              <td>Manage</td>
            </tr>
            <tr>
              <td>User Administration</td>
              <td>None</td>
              <td>None</td>
              <td>Review</td>
              <td>Manage</td>
            </tr>
            <tr>
              <td>System Policies</td>
              <td>Read</td>
              <td>Read</td>
              <td>Approve</td>
              <td>Manage</td>
            </tr>
          </tbody>
        </table>
      </div>

      <form class="config-form" method="post" action="#">
        <h3>Role Change Request</h3>
        <div class="form-grid">
          <label>
            Role Name
            <input type="text" name="role_name" placeholder="Quality Auditor">
          </label>
          <label>
            Base Permissions
            <select name="base_role">
              <option value="viewer">Viewer Template</option>
              <option value="analyst">Analyst Template</option>
              <option value="manager">Manager Template</option>
              <option value="administrator">Administrator Template</option>
            </select>
          </label>
          <label class="full-width">
            Approval Notes
            <textarea name="role_notes" rows="3" placeholder="Outline changes that require executive approval."></textarea>
          </label>
        </div>
        <div class="form-actions">
          <button type="submit" class="primary">Submit for Approval</button>
          <button type="button" class="ghost">Export Matrix</button>
        </div>
      </form>
    </article>

    <article class="tab-panel" role="tabpanel" data-tab-panel="system" aria-hidden="true">
      <h2>System Policies</h2>
      <p>Control global behaviors including security posture, notifications, and compliance automation.</p>
      <form class="config-form" method="post" action="#">
        <div class="form-grid">
          <label>
            Session Timeout (minutes)
            <input type="number" name="session_timeout" value="30">
          </label>
          <label>
            MFA Requirement
            <select name="mfa">
              <option value="required">Required for all users</option>
              <option value="privileged">Required for privileged roles</option>
              <option value="optional">Optional</option>
            </select>
          </label>
          <label>
            Password Rotation (days)
            <input type="number" name="password_rotation" value="90">
          </label>
          <label>
            Incident Webhook
            <input type="url" name="incident_webhook" placeholder="https://hooks.example.com/incident">
          </label>
        </div>
        <div class="form-grid">
          <label>
            Maintenance Window
            <input type="text" name="maintenance_window" placeholder="Saturdays 02:00 - 04:00">
          </label>
          <label>
            Data Retention Policy
            <select name="retention">
              <option value="180">180 days</option>
              <option value="365">1 year</option>
              <option value="730">2 years</option>
              <option value="compliant">Custom - Compliant with customer contracts</option>
            </select>
          </label>
          <label class="full-width">
            Executive Summary Distribution
            <textarea name="executive_distribution" rows="3" placeholder="List the executive recipients for automated KPI summaries."></textarea>
          </label>
        </div>
        <div class="form-actions">
          <button type="submit" class="primary">Apply Policies</button>
          <button type="button" class="ghost">Schedule Change</button>
        </div>
      </form>
    </article>
  </div>
</section>
{% endblock %}
